#pragma once

#include <vector>
#include <array>
#include <ruckig/ruckig.hpp>
#include "Example.h"

namespace ruckig::eg5 {

const std::vector<double> T_ARRAY_GT = {
    0, 0.01, 0.02, 0.03, 0.04, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.11, 0.12, 0.13, 0.14, 0.15, 0.16, 0.17, 0.18, 0.19,
    0.2, 0.21, 0.22, 0.23, 0.24, 0.25, 0.26, 0.27, 0.28, 0.29, 0.3, 0.31, 0.32, 0.33, 0.34, 0.35, 0.36, 0.37, 0.38,
    0.39, 0.4, 0.41, 0.42, 0.43, 0.44, 0.45, 0.46, 0.47, 0.48, 0.49, 0.5, 0.51, 0.52, 0.53, 0.54, 0.55, 0.56, 0.57,
    0.58, 0.59, 0.6, 0.61, 0.62, 0.63, 0.64, 0.65, 0.66, 0.67, 0.68, 0.69, 0.7, 0.71, 0.72, 0.73, 0.74, 0.75, 0.76,
    0.77, 0.78, 0.79, 0.8, 0.81, 0.82, 0.83, 0.84, 0.85, 0.86, 0.87, 0.88, 0.89, 0.9, 0.91, 0.92, 0.93, 0.94, 0.95,
    0.96, 0.97, 0.98, 0.99, 1, 1.01, 1.02, 1.03, 1.04, 1.05, 1.06, 1.07, 1.08, 1.09, 1.1, 1.11, 1.12, 1.13, 1.14, 1.15,
    1.16, 1.17, 1.18, 1.19, 1.2, 1.21, 1.22, 1.23, 1.24, 1.25, 1.26, 1.27, 1.28, 1.29, 1.3, 1.31, 1.32, 1.33, 1.34,
    1.35, 1.36, 1.37, 1.38, 1.39, 1.4, 1.41, 1.42, 1.43, 1.44, 1.45, 1.46, 1.47, 1.48, 1.49, 1.5, 1.51, 1.52, 1.53,
    1.54, 1.55, 1.56, 1.57, 1.58, 1.59, 1.6, 1.61, 1.62, 1.63, 1.64, 1.65, 1.66, 1.67, 1.68, 1.69, 1.7, 1.71, 1.72,
    1.73, 1.74, 1.75, 1.76, 1.77, 1.78, 1.79, 1.8, 1.81, 1.82, 1.83, 1.84, 1.85, 1.86, 1.87, 1.88, 1.89, 1.9, 1.91,
    1.92, 1.93, 1.94, 1.95, 1.96, 1.97, 1.98, 1.99, 2, 2.01, 2.02, 2.03, 2.04, 2.05, 2.06, 2.07, 2.08, 2.09, 2.1, 2.11,
    2.12, 2.13, 2.14, 2.15, 2.16, 2.17, 2.18, 2.19, 2.2, 2.21, 2.22, 2.23, 2.24, 2.25, 2.26, 2.27, 2.28, 2.29, 2.3,
    2.31, 2.32, 2.33, 2.34, 2.35, 2.36, 2.37, 2.38, 2.39, 2.4, 2.41, 2.42, 2.43, 2.44, 2.45, 2.46, 2.47, 2.48, 2.49,
    2.5, 2.51, 2.52, 2.53, 2.54, 2.55, 2.56, 2.57, 2.58, 2.59, 2.6, 2.61, 2.62, 2.63, 2.64, 2.65, 2.66, 2.67, 2.68,
    2.69, 2.7, 2.71, 2.72, 2.73, 2.74, 2.75, 2.76, 2.77, 2.78, 2.79, 2.8, 2.81, 2.82, 2.83, 2.84, 2.85, 2.86, 2.87,
    2.88, 2.89, 2.9, 2.91, 2.92, 2.93, 2.94, 2.95, 2.96, 2.97, 2.98, 2.99, 3, 3.01, 3.02, 3.03, 3.04, 3.05, 3.06, 3.07,
    3.08, 3.09, 3.1, 3.11, 3.12, 3.13, 3.14, 3.15, 3.16, 3.17, 3.18, 3.19, 3.2, 3.21, 3.22, 3.23, 3.24, 3.25, 3.26,
    3.27, 3.28, 3.29, 3.3, 3.31, 3.32, 3.33, 3.34, 3.35, 3.36, 3.37, 3.38, 3.39, 3.4, 3.41, 3.42, 3.43
};

const std::vector<std::array<double, 3>> POS_ARRAY_GT = {
    {0, 0, 0.5}, {0.029999, -0.021876, 0.494974}, {0.059992, -0.043508, 0.489895}, {0.089973, -0.064902, 0.484757},
    {0.119936, -0.086064, 0.479557}, {0.149875, -0.107, 0.474292}, {0.179784, -0.127716, 0.468956},
    {0.209657, -0.148218, 0.463546}, {0.239488, -0.168512, 0.458059}, {0.269271, -0.188604, 0.45249},
    {0.299, -0.2085, 0.446839}, {0.328669, -0.228206, 0.441105}, {0.358272, -0.247728, 0.43529},
    {0.387803, -0.267072, 0.429393}, {0.417256, -0.286244, 0.423414}, {0.446625, -0.30525, 0.417352},
    {0.475904, -0.324096, 0.411209}, {0.505087, -0.342788, 0.404983}, {0.534168, -0.361332, 0.398676},
    {0.563141, -0.379734, 0.392286}, {0.592, -0.398, 0.385815}, {0.620739, -0.416136, 0.379261},
    {0.649352, -0.434148, 0.372625}, {0.677833, -0.452042, 0.365907}, {0.706176, -0.469824, 0.359108},
    {0.734375, -0.487497, 0.352226}, {0.762424, -0.505061, 0.345262}, {0.790317, -0.522516, 0.338216},
    {0.818048, -0.539862, 0.331088}, {0.845611, -0.5571, 0.323878}, {0.873, -0.574229, 0.316585},
    {0.900209, -0.591248, 0.309211}, {0.927232, -0.608159, 0.301755}, {0.954063, -0.624962, 0.294216},
    {0.980696, -0.641655, 0.286596}, {1.00713, -0.658239, 0.278894}, {1.03334, -0.674715, 0.271109},
    {1.05935, -0.691082, 0.263243}, {1.08513, -0.70734, 0.255294}, {1.11068, -0.723489, 0.247263},
    {1.136, -0.739529, 0.23915}, {1.16108, -0.75546, 0.230956}, {1.18591, -0.771283, 0.222679},
    {1.21049, -0.786996, 0.21432}, {1.23482, -0.802601, 0.205879}, {1.25888, -0.818097, 0.197356},
    {1.28266, -0.833484, 0.188751}, {1.30618, -0.848763, 0.180064}, {1.32941, -0.863932, 0.171295},
    {1.35235, -0.878993, 0.162443}, {1.375, -0.893944, 0.15351}, {1.39735, -0.908787, 0.144495},
    {1.4194, -0.923521, 0.135397}, {1.44115, -0.938147, 0.126218}, {1.4626, -0.952663, 0.116956},
    {1.48375, -0.96707, 0.107613}, {1.5046, -0.981369, 0.0981873}, {1.52515, -0.995559, 0.0886796},
    {1.5454, -1.00964, 0.0790899}, {1.56535, -1.02361, 0.0694181}, {1.585, -1.03748, 0.0596643},
    {1.60435, -1.05123, 0.0498284}, {1.6234, -1.06488, 0.0399104}, {1.64215, -1.07841, 0.0299104},
    {1.6606, -1.09184, 0.0198284}, {1.67875, -1.10516, 0.00966425}, {1.6966, -1.11837, -0.00058191},
    {1.71415, -1.13147, -0.0109101}, {1.7314, -1.14446, -0.0213204}, {1.74835, -1.15735, -0.0318127},
    {1.765, -1.17012, -0.0423871}, {1.78135, -1.18279, -0.0530436}, {1.7974, -1.19534, -0.0637821},
    {1.81315, -1.20779, -0.0746026}, {1.8286, -1.22013, -0.0855052}, {1.84375, -1.23236, -0.0964899},
    {1.8586, -1.24448, -0.107557}, {1.87315, -1.2565, -0.118705}, {1.8874, -1.2684, -0.129936},
    {1.90135, -1.2802, -0.141249}, {1.915, -1.29188, -0.152644}, {1.92835, -1.30346, -0.164121},
    {1.9414, -1.31493, -0.17568}, {1.95415, -1.32629, -0.187321}, {1.9666, -1.33754, -0.199044},
    {1.97875, -1.34868, -0.21085}, {1.9906, -1.35972, -0.222737}, {2.00215, -1.37064, -0.234706},
    {2.0134, -1.38146, -0.246757}, {2.02435, -1.39216, -0.258891}, {2.035, -1.40276, -0.271106},
    {2.04535, -1.41325, -0.283404}, {2.0554, -1.42363, -0.295784}, {2.06515, -1.4339, -0.308245},
    {2.0746, -1.44406, -0.320789}, {2.08375, -1.45412, -0.333415}, {2.0926, -1.46406, -0.346122},
    {2.10115, -1.4739, -0.358912}, {2.1094, -1.48363, -0.371784}, {2.11735, -1.49324, -0.384738},
    {2.125, -1.50275, -0.397774}, {2.13235, -1.51215, -0.410892}, {2.13941, -1.52145, -0.424093},
    {2.14618, -1.53063, -0.437375}, {2.15266, -1.5397, -0.450739}, {2.15888, -1.54867, -0.464185},
    {2.16482, -1.55752, -0.477714}, {2.17049, -1.56627, -0.491324}, {2.17591, -1.57491, -0.505017},
    {2.18108, -1.58344, -0.518791}, {2.186, -1.59186, -0.532648}, {2.19068, -1.60017, -0.546586},
    {2.19513, -1.60838, -0.560607}, {2.19935, -1.61647, -0.57471}, {2.20334, -1.62446, -0.588895},
    {2.20713, -1.63233, -0.603161}, {2.2107, -1.6401, -0.61751}, {2.21406, -1.64776, -0.631941},
    {2.21723, -1.65531, -0.646454}, {2.22021, -1.66275, -0.661044}, {2.223, -1.67008, -0.675708},
    {2.22561, -1.67731, -0.690443}, {2.22805, -1.68442, -0.705243}, {2.23032, -1.69143, -0.720105},
    {2.23242, -1.69833, -0.735026}, {2.23438, -1.70511, -0.75}, {2.23618, -1.71179, -0.765024},
    {2.23783, -1.71836, -0.780095}, {2.23935, -1.72483, -0.795207}, {2.24074, -1.73118, -0.810357},
    {2.242, -1.73742, -0.825542}, {2.24314, -1.74356, -0.840756}, {2.24417, -1.74958, -0.855996},
    {2.24509, -1.7555, -0.871259}, {2.2459, -1.76132, -0.886539}, {2.24662, -1.76704, -0.901833},
    {2.24726, -1.77267, -0.917138}, {2.2478, -1.77822, -0.932448}, {2.24827, -1.78369, -0.94776},
    {2.24867, -1.78909, -0.963071}, {2.249, -1.79442, -0.978375}, {2.24927, -1.79969, -0.993669},
    {2.24949, -1.8049, -1.00895}, {2.24966, -1.81007, -1.02421}, {2.24978, -1.8152, -1.03945},
    {2.24987, -1.82029, -1.05467}, {2.24994, -1.82535, -1.06985}, {2.24997, -1.83039, -1.085},
    {2.24999, -1.83541, -1.10011}, {2.25, -1.84042, -1.11518}
};

const std::vector<std::array<double, 3>> VEL_ARRAY_GT = {
    {3, -2.2, -0.5}, { 2.9997, -2.1753, -0.5052 }, { 2.9988, -2.1512, -0.5108 }, { 2.9973, -2.1277, -0.5168 },
    { 2.9952, -2.1048, -0.5232 }, { 2.9925, -2.0825, -0.53 }, { 2.9892, -2.0608, -0.5372 }, { 2.9853, -2.0397, -0.5448 },
    { 2.9808, -2.0192, -0.5528 }, { 2.9757, -1.9993, -0.561005 }, { 2.97, -1.98, -0.569211 }, { 2.9637, -1.9613, -0.577416 },
    { 2.9568, -1.9432, -0.585622 }, { 2.9493, -1.9257, -0.593827 }, { 2.9412, -1.9088, -0.602033 },
    { 2.9325, -1.8925, -0.610238 }, { 2.9232, -1.8768, -0.618444 }, { 2.9133, -1.8617, -0.62665 },
    { 2.9028, -1.8472, -0.634855 }, { 2.8917, -1.8333, -0.643061 }, { 2.88, -1.82, -0.651266 }, { 2.8677, -1.8073, -0.659472 },
    { 2.8548, -1.7952, -0.667677 }, { 2.8413, -1.7837, -0.675883 }, { 2.8272, -1.77273, -0.684088 },
    { 2.8125, -1.76185, -0.692294 }, { 2.7972, -1.75096, -0.700499 }, { 2.7813, -1.74008, -0.708705 },
    { 2.7648, -1.72919, -0.71691 }, { 2.7477, -1.71831, -0.725116 }, { 2.73, -1.70742, -0.733321 },
    { 2.7117, -1.69654, -0.741527 }, { 2.6928, -1.68566, -0.749732 }, { 2.6733, -1.67477, -0.757938 },
    { 2.6532, -1.66389, -0.766143 }, { 2.6325, -1.653, -0.774349 }, { 2.6112, -1.64212, -0.782554 },
    { 2.5893, -1.63123, -0.79076 }, { 2.5668, -1.62035, -0.798965 }, { 2.5437, -1.60946, -0.807171 },
    { 2.52, -1.59858, -0.815376 }, { 2.4957, -1.58769, -0.823582 }, { 2.4708, -1.57681, -0.831787 },
    { 2.4453, -1.56592, -0.839993 }, { 2.4192, -1.55504, -0.848198 }, { 2.3925, -1.54416, -0.856404 },
    { 2.3652, -1.53327, -0.864609 }, { 2.3373, -1.52239, -0.872815 }, { 2.3088, -1.5115, -0.88102 },
    { 2.2797, -1.50062, -0.889226 }, { 2.25, -1.48973, -0.897431 }, { 2.22, -1.47885, -0.905637 },
    { 2.19, -1.46796, -0.913842 }, { 2.16, -1.45708, -0.922048 }, { 2.13, -1.44619, -0.930253 }, { 2.1, -1.43531, -0.938459 },
    { 2.07, -1.42442, -0.946664 }, { 2.04, -1.41354, -0.95487 }, { 2.01, -1.40266, -0.963075 }, { 1.98, -1.39177, -0.971281 },
    { 1.95, -1.38089, -0.979486 }, { 1.92, -1.37, -0.987692 }, { 1.89, -1.35912, -0.995897 }, { 1.86, -1.34823, -1.0041 },
    { 1.83, -1.33735, -1.01231 }, { 1.8, -1.32646, -1.02051 }, { 1.77, -1.31558, -1.02872 }, { 1.74, -1.30469, -1.03692 },
    { 1.71, -1.29381, -1.04513 }, { 1.68, -1.28292, -1.05334 }, { 1.65, -1.27204, -1.06154 }, { 1.62, -1.26116, -1.06975 },
    { 1.59, -1.25027, -1.07795 }, { 1.56, -1.23939, -1.08616 }, { 1.53, -1.2285, -1.09436 }, { 1.5, -1.21762, -1.10257 },
    { 1.47, -1.20673, -1.11077 }, { 1.44, -1.19585, -1.11898 }, { 1.41, -1.18496, -1.12719 }, { 1.38, -1.17408, -1.13539 },
    { 1.35, -1.16319, -1.1436 }, { 1.32, -1.15231, -1.1518 }, { 1.29, -1.14142, -1.16001 }, { 1.26, -1.13054, -1.16821 },
    { 1.23, -1.11966, -1.17642 }, { 1.2, -1.10877, -1.18462 }, { 1.17, -1.09789, -1.19283 }, { 1.14, -1.087, -1.20103 },
    { 1.11, -1.07612, -1.20924 }, { 1.08, -1.06523, -1.21745 }, { 1.05, -1.05435, -1.22565 }, { 1.02, -1.04346, -1.23386 },
    { 0.99, -1.03258, -1.24206 }, { 0.96, -1.02169, -1.25027 }, { 0.93, -1.01081, -1.25847 }, { 0.9, -0.999925, -1.26668 },
    { 0.87, -0.98904, -1.27488 }, { 0.84, -0.978156, -1.28309 }, { 0.81, -0.967271, -1.2913 }, { 0.78, -0.956386, -1.2995 },
    { 0.75, -0.945502, -1.30771 }, { 0.7203, -0.934617, -1.31591 }, { 0.6912, -0.923732, -1.32412 },
    { 0.6627, -0.912848, -1.33232 }, { 0.6348, -0.901963, -1.34053 }, { 0.6075, -0.891079, -1.34873 },
    { 0.5808, -0.880194, -1.35694 }, { 0.5547, -0.869309, -1.36514 }, { 0.5292, -0.858425, -1.37335 },
    { 0.5043, -0.84754, -1.38156 }, { 0.48, -0.836656, -1.38976 }, { 0.4563, -0.825771, -1.39797 },
    { 0.4332, -0.814886, -1.40617 }, { 0.4107, -0.804002, -1.41438 }, { 0.3888, -0.793117, -1.42258 },
    { 0.3675, -0.782232, -1.43079 }, { 0.3468, -0.771348, -1.43899 }, { 0.3267, -0.760463, -1.4472 },
    { 0.3072, -0.749579, -1.4552 }, { 0.2883, -0.738694, -1.4628 }, { 0.27, -0.727809, -1.47 }, { 0.2523, -0.716925, -1.4768 },
    { 0.2352, -0.70604, -1.4832 }, { 0.2187, -0.695156, -1.4892 }, { 0.2028, -0.684271, -1.4948 }, { 0.1875, -0.673386, -1.5 },
    { 0.1728, -0.662502, -1.5048 }, { 0.1587, -0.651617, -1.5092 }, { 0.1452, -0.640732, -1.5132 },
    { 0.1323, -0.629848, -1.5168 }, { 0.12, -0.618963, -1.52 }, { 0.1083, -0.608079, -1.5228 }, { 0.0972, -0.5972, -1.5252 },
    { 0.0867, -0.5867, -1.5272 }, { 0.0768, -0.5768, -1.5288 }, { 0.0675, -0.5675, -1.53 }, { 0.0588, -0.5588, -1.5308 },
    { 0.0507, -0.5507, -1.5312 }, { 0.0432, -0.5432, -1.5312 }, { 0.0363, -0.5363, -1.5308 }, { 0.03, -0.53, -1.53 },
    { 0.0243, -0.5243, -1.5288 }, { 0.0192, -0.5192, -1.5272 }, { 0.0147, -0.5147, -1.5252 }, { 0.0108, -0.5108, -1.5228 },
    { 0.0075, -0.5075, -1.52 }, { 0.0048, -0.5048, -1.5168 }, { 0.0027, -0.5027, -1.5132 }, { 0.0012, -0.5012, -1.5092 },
    { 0.0003, -0.5003, -1.5048 }
};



void Reset(ruckig::Ruckig<kDOFS> otg, InputParameter<kDOFS>& input, OutputParameter<kDOFS>& output) {
    input.control_interface = ControlInterface::Velocity;

    input.current_position = { 0.0, 0.0, 0.5 };
    input.current_velocity = { 3.0, -2.2, -0.5 };
    input.current_acceleration = { 0.0, 2.5, -0.5 };

    input.target_velocity = { 0.0, -0.5, -1.5 };
    input.target_acceleration = { 0.0, 0.0, 0.5 };

    input.max_acceleration = { 3.0, 2.0, 1.0 };
    input.max_jerk = { 6.0, 6.0, 4.0 };

    otg.reset();
}

}